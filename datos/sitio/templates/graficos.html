<!DOCTYPE html>
<html lang="EN">
    <head > 
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Graficos</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <link rel="stylesheet" href="upl.css">
          <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
  </head>
  <style>
    table {
        width: 95%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid black;
        padding: 9px;
        text-align: left;
    }
    th {
        background-color: Khaki;
    }
    tr {background-color: LemonChiffon;}
    div{
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 10px;
        gap:10px
    }
</style>

<body  style=" background-color: #FFE585;">
    <a href="http://127.0.0.1:8000/sitio/data/"><button type="button" class="btn btn-danger" style="margin-right: 10px; backround-color: red; color: white;">&laquo Volver</button></a>
    <ul class="nav nav-tabs flex-column flex-sm-row" style="background-color: #FFF0B6 ">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="http://127.0.0.1:8000/sitio/data/top10gral/" style="color:black;">Top 10</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="http://127.0.0.1:8000/sitio/data/top10asig/" style="color: black;">Top 10 por Asignatura</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="http://127.0.0.1:8000/sitio/data/graficos/" style="color: black;">Gráficos</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="http://127.0.0.1:8000/sitio/data/corr/" style="color: black;">Correlación</a>
          </li>
        
      </ul>
   
    </br>
    </br>
        <h4 style="font-family: 'Courier New', Courier, monospace; color:black; margin-left: 20px; text-align: center;"><img src="https://cdn-icons-png.flaticon.com/512/9913/9913467.png" style="width: 80px; margin-left: 20px; margin-right:20px">Los gráficos van a estar detallados de la siguiente manera:</h4>
        </br>
        <div style='display:flex;flex-direction:column; gap:20px, padding: 30%'>
            <ol style="font-family: 'Courier New', Courier, monospace; margin-left: 40px; color:black; font-style: bold;">
                <li><h3>Histograma con la distribucion de las notas promedio</h3></li>
                <div class="overflow-x-scroll">
                    <img src="data:image/png;base64,{{ hist|safe }}" style="object-fit: contain; min-width: 400px ;width: 95%; ">
                </div>
                <br>
                <li><h3>Boxplots con las notas para cada asignatura y en general</h3></li>
                <div class="overflow-x-scroll">
                    <img src="data:image/png;base64,{{ box|safe }}" style="object-fit: contain; min-width: 400px ;width: 95%; ">
                </div>
                <br>
                <li><h3>Estadisticas de cada asignatura</h3></li>
                <div class='overflow-x-scroll'>
                        <table>
                            <thead>
                                <tr>
                                    <th>Asignatura</th>
                                    <th>Promedio</th>
                                    <th>Maximo</th>
                                    <th>Minimo</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for subject, stats in statistics.items %}
                                <tr>
                                    <td>{{ subject }}</td>
                                    <td>{{ stats.average|floatformat:2 }}</td>
                                    <td>{{ stats.max }}</td>
                                    <td>{{ stats.min }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                </div>
                <br>
            </ol>
        </div>
</body>
</html>